# MeerChat
Chatting Shell with Golang

## 하나 목표
각자 *브랜치*를 파서 작동하는 채팅(서버) 구현하기.
- 다음모임때 코드 리뷰를 해서 채팅서버 통합하기.
- P2P던, 채팅방만들기던 메세지를 주고받을 수 있어야 함.
- 터미널이던 웹이던 뭐든 작동해야함.

다음 모임 날짜
- 21일 화요일 저녁 6시에 모여서 같이 밥먹고 합시다.

## 둘 목표
Shell CUI 구현하기. shell 명령어 되면서 상단/우측/좌측/하단/ 임의의 그림이 보이게
- 다다음모임때 코드 리뷰해서 통합하기


### 기능 정리
참고자료
https://github.com/faroyam/golang-p2p-chat/blob/master/chat.go

select 참고 자료
https://hamait.tistory.com/1017

- 노드
    - [x] 하나의 노드 안에 서버와 클라이언트가 동시에 존재하게 만들기
    - [ ] 다른 서버에 연결 요청
        - [x] 단순히 연결하는 것만 구현되어 있음
    - [ ] 연결된 서버 정보 출력

- 채팅
    - [x] 문자 보내기
    - [x] 받은 문자 출력

- 채팅방 (채팅방은 우선 고려X)
    - [ ] 채팅방 추가
    - [ ] 채팅방 삭제
    - [ ] 채팅방 수정
    - [ ] 채팅방 출력
    - [ ] 채팅방 참가
    - [ ] 채팅방 탈퇴
    - [ ] 채팅방 초대

- docker
    1. docker build -t meerchat .
    2. sudo docker run -it -p 7000:7000 --rm --name meerchat1 meerchat
    3. sudo docker run -it -p 8000:7000 --rm --name meerchat2 meerchat


## 2주차 (wkd3475-v2.0)
1주차에서는 golang을 이용해서 간단한 프로그램을 만들어보며 기능을 테스트하는데 초점을 맞췄다면 2주차에서는 실제 만들고자하는 프로그램을 구체화하고 구현하는 것을 목표로 함
* * * 
### 메인 서버<br/>
    메인 서버는 사용자가 만든 방들을 리스트로 모아두고 사용자가 해당 리스트를 통해 채팅을 하고자하는 상대를 찾는데 도움을 주는 서버 역할을 한다. 메인 서버는 heartbeat가 없는 방에 대해서 살아있는지 확인할 책임이 있다.  
    - 방(Room) 관리
        - 모든 계정의 방에 대한 정보를 수집하여 보관
            - [ ] 방 생성을 하면 정보를 추가
            - [ ] 방 삭제를 하면 정보를 삭제
            - [ ] 방 수정을 하면 정보를 수정
        - [ ] heartbeat가 없는 방은 살아있는지 확인

* * * 
### 노드<br/>
    각 노드에서는 채팅 방을 만들 수 있으며, 각 채팅 방에 해당하는 서버를 각자의 노드에서 생성해서 운영하게 한다. 이를 통해 서버에 요청이 몰리는 과부화 현상을 완화하고 채팅방 운영에 대한 부담을 사용자에게 위임할 수 있다.  
    각 노드는 계정을 가지고 방을 만들거나 방에 참가하여 채팅을 할 수 있다.
* * * 
### 계정(User)<br/>
    계정에 대한 구분은 ip주소와 port번호를 통해 구별할 수 있으며 별도의 닉네임을 가질수 있도록 할 것이다.  
    - [ ] 구조  
        ├─ name  
        ├─ ipAddress  
        └─ portNumber  
    - 계정 관리
        - [ ] 닉네임 변경
* * * 
### 방(Room)<br/>
    방에 필요한 내용과 메인 서버에서 관리되어야 하는 부분도 고려해서 설계
    메인 서버에 update된 내역에 대해서 보고해야하며, 수시로 heartbeat를 보내서 방이 살아있음을 보고해야한다.  
    - [ ] 구조  
        ├─ name : 방 이름  
        ├─ admin : 방장 계정 정보  
        ├─ password  
        ├─ description  
        ├─ ipAddress  
        ├─ portNumber  
        ├─ maxUserNumber  
        ├─ userList  
        ├─ blackList  
        └─ updatedAt  
    - 방 관리
        - [ ] 방 생성
        - [ ] 방 삭제
        - [ ] 방 이름 수정
        - [ ] 방 비밀번호 수정
        - [ ] 방 묘사 수정
        - [ ] 블랙 리스트 유저 등록
        - [ ] 블랙 리스트 유저 삭제
    - 메인 서버와 소통
        - [ ] heartbeat 주기적으로 전송
        - [ ] 업데이트 내용 서버에 전송

* * * 
### Util
    - 암호 관리
        - [ ] 비밀번호 암호화 하는 기능
        - [ ] 비밀번호 확인하는 기능